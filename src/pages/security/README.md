# 安全

## 信息收集
### 收集域名信息
- 知道目标的域名之后，我们要做的第一件事就是获取域名的注册信息，包括该域名的DNS服务器信息和注册人的联系信息等

#### Whois查询
- `Whois` 是一个标准的互联网协议，可用于手机网络注册信息，注册的域名、IP地址等信息，简单来说，`Whois`就是一个用于查询域名是否已被注册以及域名的详细信息的数据库(如：域名所有人、域名注册商)
，在`Whios`查询中，得到的注册人的姓名和邮箱信息对测试个人站点非常有用，可以通过搜索引擎和社交网络挖掘出域名所有人的很多信息，对中小站点而言，域名所有人往往就是管理员, 在线的查询网站有：
1. `https://whois.aizhan.com`
2. `http://whois.chinaz.com`
3. `https://www.virustotal.com`

#### 备案信息查询
- 网站备案是根据国家法律法规规定，需要网站的所有者向国家有关部门申请备案，这是国家信息产业部对网站的一种管理，为了防止在网上从事非法的网站经营活动的发生，主要针对国内网站，如果网站搭建在其他国家，则不需要进行备案，常用的网站有：
1. ICP备案查询网`http://www.beianbeian.com`
2. 天眼查`http://www.tianyancha.com`

### 收集敏感信息
- `Google` 是世界上最强的搜索引擎之一，对一位渗透测试者而言，它可能是一款绝佳的黑客工具，Google的常用语法及说明：

### 收集子域名信息

### 收集常用端口信息

### 指纹识别

### 查找真实IP

### 收集敏感目录文件


## 搭建测试环境
### 在Linux系统中安装LANMP

### 在windows系统中安装WAMP

### 搭建DVWA漏洞环境

### 搭建SQL注入平台

### 搭建XSS测试平台


## 渗透测试工具
### SQLMap

### Burp Suite

### Nmap


## SQL注入
- SQL注入就是指Web应用程序对用户输入数据的合法性没有判断，前端传入后端的参数是攻击者可控的，并且参数带入数据库查询，攻击者可以通过构造不同的SQL语句来实现数据库的任意操作，一般情况下，开发人员可以使用动态SQL
语句创建通用、灵活的应用，动态SQL语句是在执行过程中构造的，它根据不同的条件产生不同的SQL语句，如：
```js
`SELECT * FROM users WHERE id = ${id}` // 仅仅以js拼接为例
 
```
- 由于这里的参数ID可控，且带入数据库查询，所以非法用户可以任意拼接SQL语句进行攻击
- 当然，SQL注入按照不同的分类方法可以分为很多种

### SQL注入的原理
- SQL注入漏洞的产生需要满足以下两个条件
1. 参数是用户可控的，前端传给后端的参数内容是用户可以控制的
2. 参数带入数据库查询：传入的参数拼接到SQL语句，且带入数据库查询


## XSS

## CSRF 跨站请求伪造攻击
#### `Cross-Site Request Forgery`(CSRF)
- 比如用户在浏览器中访问了一个银行的站点，那么这个时候浏览器中已经包含了相应的`Cookie`，如果这个浏览器的用户访问了一个危险的站点，比如说是一个木马站点，打开了一个index.html, 
那么用户分辨不出这是一个真的站点还是一个伪造的站点，用户点击了相应的按钮，如果这个按钮是一个表单提交，而表单提交的同源策略是不做限制的，那么这个表单的`action
`中很有可能嵌入的是那个银行的站点，那么浏览器允许访问，这个时候又携带了相应的`Cookie`，这个时候就可能造成很严重的后果

### 怎么预防呢？
1. 在网络篇提到过请求头中包含一个`Referer`，`Referer`表明这个请求来自哪个站点，那么银行的这个站点就可以通过`Referer`来处理了
- `Referer`的问题：如果浏览器的实现不规范，也就是没有携带`Referer`，那么就无法处理这个问题了



## SSRF


## 文件上传


## 暴力破解


## 命令执行


## 逻辑漏洞挖掘


## XXE漏洞



## Metasploit



## PowerShell
